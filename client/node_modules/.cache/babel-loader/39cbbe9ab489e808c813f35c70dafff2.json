{"ast":null,"code":"var _jsxFileName = \"D:\\\\shoppingManagement\\\\client\\\\src\\\\components\\\\Form\\\\Form.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FileBase from \"react-file-base64\";\nimport useStyles from \"./styles\";\nimport { createProduct, updateProduct } from \"../../actions/products\";\nconst Form = ({\n  currentId,\n  setCurrentId\n}) => {\n  const [productData, setProductData] = useState({\n    title: \"\",\n    description: \"\",\n    price: \"\",\n    selectedFile: \"\"\n  });\n  const product = useSelector(state => currentId ? state.products.find(product => product._id === currentId) : null);\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  useEffect(() => {\n    if (product) setProductData(product);\n  }, [product]);\n  const clear = () => {\n    setCurrentId(0);\n    setProductData({\n      title: \"\",\n      description: \"\",\n      price: 0,\n      selectedFile: \"\"\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (currentId === 0) {\n      dispatch(createProduct(productData));\n      clear();\n    } else {\n      dispatch(updateProduct(currentId, productData));\n      clear();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    noValidate: true,\n    className: `${classes.root} ${classes.form}`,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, currentId ? `Editing \"${product.title}\"` : \"Creating a Product\"), /*#__PURE__*/React.createElement(TextField, {\n    name: \"title\",\n    variant: \"outlined\",\n    label: \"Title\",\n    fullWidth: true,\n    value: productData.title,\n    onChange: e => setProductData({\n      ...productData,\n      title: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"message\",\n    variant: \"outlined\",\n    label: \"Message\",\n    fullWidth: true,\n    multiline: true,\n    rows: 4,\n    value: productData.description,\n    onChange: e => setProductData({\n      ...productData,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.fileInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FileBase, {\n    type: \"file\",\n    multiple: false,\n    onDone: ({\n      base64\n    }) => setProductData({\n      ...productData,\n      selectedFile: base64\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttonSubmit,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    type: \"submit\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"small\",\n    onClick: clear,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Clear\")));\n};\nexport default Form;","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Typography","Paper","useDispatch","useSelector","FileBase","useStyles","createProduct","updateProduct","Form","currentId","setCurrentId","productData","setProductData","title","description","price","selectedFile","product","state","products","find","_id","dispatch","classes","clear","handleSubmit","e","preventDefault","createElement","className","paper","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","autoComplete","noValidate","root","form","onSubmit","variant","name","label","fullWidth","value","onChange","target","multiline","rows","fileInput","type","multiple","onDone","base64","buttonSubmit","color","size","onClick"],"sources":["D:/shoppingManagement/client/src/components/Form/Form.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FileBase from \"react-file-base64\";\r\n\r\nimport useStyles from \"./styles\";\r\nimport { createProduct, updateProduct } from \"../../actions/products\";\r\n\r\nconst Form = ({ currentId, setCurrentId }) => {\r\n  const [productData, setProductData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    selectedFile: \"\",\r\n  });\r\n  const product = useSelector((state) =>\r\n    currentId\r\n      ? state.products.find((product) => product._id === currentId)\r\n      : null\r\n  );\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (product) setProductData(product);\r\n  }, [product]);\r\n\r\n  const clear = () => {\r\n    setCurrentId(0);\r\n    setProductData({ title: \"\", description: \"\", price: 0, selectedFile: \"\" });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (currentId === 0) {\r\n      dispatch(createProduct(productData));\r\n      clear();\r\n    } else {\r\n      dispatch(updateProduct(currentId, productData));\r\n      clear();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <form\r\n        autoComplete=\"off\"\r\n        noValidate\r\n        className={`${classes.root} ${classes.form}`}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Typography variant=\"h6\">\r\n          {currentId ? `Editing \"${product.title}\"` : \"Creating a Product\"}\r\n        </Typography>\r\n\r\n        <TextField\r\n          name=\"title\"\r\n          variant=\"outlined\"\r\n          label=\"Title\"\r\n          fullWidth\r\n          value={productData.title}\r\n          onChange={(e) =>\r\n            setProductData({ ...productData, title: e.target.value })\r\n          }\r\n        />\r\n        <TextField\r\n          name=\"message\"\r\n          variant=\"outlined\"\r\n          label=\"Message\"\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          value={productData.description}\r\n          onChange={(e) =>\r\n            setProductData({ ...productData, description: e.target.value })\r\n          }\r\n        />\r\n        {/* <TextField\r\n          name=\"tags\"\r\n          variant=\"outlined\"\r\n          label=\"Tags (coma separated)\"\r\n          fullWidth\r\n          value={productData.tags}\r\n          onChange={(e) =>\r\n            setProductData({ ...productData, tags: e.target.value.split(\",\") })\r\n          }\r\n        /> */}\r\n        <div className={classes.fileInput}>\r\n          <FileBase\r\n            type=\"file\"\r\n            multiple={false}\r\n            onDone={({ base64 }) =>\r\n              setProductData({ ...productData, selectedFile: base64 })\r\n            }\r\n          />\r\n        </div>\r\n        <Button\r\n          className={classes.buttonSubmit}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          type=\"submit\"\r\n          fullWidth\r\n        >\r\n          Submit\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          onClick={clear}\r\n          fullWidth\r\n        >\r\n          Clear\r\n        </Button>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}